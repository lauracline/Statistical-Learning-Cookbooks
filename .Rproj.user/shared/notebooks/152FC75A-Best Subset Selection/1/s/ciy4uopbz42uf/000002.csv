"0","# In the jth fold, the elements of Hitters belonging to j are considered the test set, while everything != j is considered training "
"0","cv_errors <- matrix(NA, k, 19, dimnames = list(NULL, paste(1:19)))"
"0","for (j in 1:k){"
"0","  best.fit <- regsubsets(salary ~ ., data=Hitters[folds!=j,], nvmax=19)"
"0","  max_vars <- best.fit$call[[4]]"
"0","  for (i in 1:19){"
"0","    pred <- predict_regsubsets(best.fit, Hitters[folds == j,], id = i) #MLEM"
"0","    cv_errors[j,i] <- mean((Hitters$salary[folds == j]-pred)^2)"
"0","  }"
"0","}"
